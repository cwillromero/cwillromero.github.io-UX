(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-695dbc86"],{"0156":function(e,t,a){"use strict";var i=a("1366"),s=a.n(i);s.a},1366:function(e,t,a){},3530:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"overflow-hidden"},[a("v-app-bar",{attrs:{absolute:"",color:"#37474F",dark:"","shrink-on-scroll":"","fade-img-on-scroll":"",src:"https://picsum.photos/1920/1080?random","scroll-target":"#scrolling-techniques-2"},scopedSlots:e._u([{key:"img",fn:function(t){var i=t.props;return[a("v-img",e._b({attrs:{gradient:"to top right, rgba(100,115,201,.7), rgba(25,32,72,.7)"}},"v-img",i,!1))]}},{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":"","background-color":"transparent"}},[a("v-tab",{on:{click:function(t){e.mostrar=1}}},[e._v("Clases")]),a("v-tab",{on:{click:function(t){e.mostrar=2}}},[e._v("Usuarios")]),a("v-tab",{on:{click:function(t){e.mostrar=3}}},[e._v("Instituciones")])],1)]},proxy:!0}])},[a("v-toolbar-title",[e._v("Administración")]),a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{"x-small":"",text:"",color:"white"},on:{click:e.cerrarSesion}},[e._v("Cerrrar Sesión")])],1),a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-2","max-height":e.altura}},[a("v-container",[1===e.mostrar?a("clases"):e._e(),2===e.mostrar?a("Usuarios"):e._e(),3===e.mostrar?a("Instituciones"):e._e()],1)],1)],1),a("div",{staticClass:"text-center ma-2"},[a("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.text)+"\n      "),a("v-btn",{attrs:{color:e.snackColor,text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)],1),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Cerrar sesión?")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.logout()}}},[e._v("Aceptar")])],1)],1)],1)],1)},s=[],r=a("dc59"),o=a("088f"),n=a("786e"),l=a("56c6"),c=(a("8aa5"),{components:{Clases:o["default"],Usuarios:n["default"],Instituciones:l["default"]},data:function(){return{mostrar:1,altura:window.innerHeight-5,snackColor:"green",text:"Bienvenido!",snackbar:!0,dialog:!1}},mounted:function(){},methods:{logout:function(){this.dialog=!1,this.$router.push("/login")},cerrarSesion(){r["a"].auth().signOut(),this.$router.push("/login")}}}),d=c,h=(a("0156"),a("2877")),u=a("6544"),b=a.n(u),m=a("40dc"),g=a("8336"),v=a("b0af"),f=a("99d9"),p=a("a523"),k=a("169a"),x=a("adda"),A=a("8dd9"),w=a("2db4"),C=a("71a3"),_=a("fe57"),V=a("2a7f"),E=Object(h["a"])(d,i,s,!1,null,null,null);t["default"]=E.exports;b()(E,{VAppBar:m["a"],VBtn:g["a"],VCard:v["a"],VCardActions:f["a"],VCardTitle:f["c"],VContainer:p["a"],VDialog:k["a"],VImg:x["a"],VSheet:A["a"],VSnackbar:w["a"],VTab:C["a"],VTabs:_["a"],VToolbarTitle:V["a"]})},5311:function(e,t,a){},"56c6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticStyle:{height:"200px"},attrs:{dark:"",prominent:"",color:"blue-grey darken-4"}},[a("v-toolbar-title",[e._v("Administración de Institituciones")])],1),a("v-container",{attrs:{id:"dropdown-example"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-overflow-btn",{staticClass:"my-2",attrs:{label:"Instituciones",items:e.instituciones,disabled:1==e.dropdownAble,target:"#dropdown-example"},on:{change:function(t){return e.showInstitucion()}},model:{value:e.seleccionado,callback:function(t){e.seleccionado=t},expression:"seleccionado"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-btn",{staticClass:"ma-2 text-center",attrs:{tile:"",width:"30%",color:" success",disabled:1==e.agregarAble},on:{click:function(t){return e.agregar()}}},[a("v-icon",[e._v("mdi-plus")]),e._v("Agregar\n        ")],1),a("v-btn",{staticClass:"ma-2 text-center",attrs:{tile:"",width:"30%",disabled:1==e.editarAble,color:"warning"},on:{click:function(t){return e.update()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-pencil")]),e._v("Editar\n        ")],1),a("v-btn",{staticClass:"ma-2 text-center",attrs:{tile:"",width:"30%",disabled:1==e.eliminarAble,color:"error"},on:{click:function(t){return e.eliminar()}}},[a("v-icon",[e._v("mdi-delete")]),e._v("Eliminar\n        ")],1)],1)],1)],1),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.nombreRules,label:"Nombre de la Institución",disabled:1==e.formAble,required:""},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.direccionRules,label:"Dirección",disabled:1==e.formAble,required:""},model:{value:e.direccion,callback:function(t){e.direccion=t},expression:"direccion"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.telefonoRules,counter:8,label:"Número Telefónico",disabled:1==e.formAble,required:""},model:{value:e.telefono,callback:function(t){e.telefono=t},expression:"telefono"}})],1),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{rules:e.encargadoRules,type:"text",label:"Encargados (Ej: Persona1,Persona2)",disabled:1==e.formAble,required:""},model:{value:e.encargado,callback:function(t){e.encargado=t},expression:"encargado"}})],1)],1)],1)],1),a("v-btn",{staticClass:"blue-grey darken-4 white--text",attrs:{width:"100%",disabled:1==e.formAble,primary:""},on:{click:function(t){return e.guardar()}}},[a("v-icon",[e._v("mdi-sd")]),e._v("Guardar\n  ")],1),a("div",{staticClass:"text-center ma-2"},[a("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.text)+"\n      "),a("v-btn",{attrs:{color:e.snackColor,text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)],1),a("div",[a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Eliminar definitivamente la Institución?")]),a("v-card-text",[e._v("Al eliminar la Institución, la misma dejará de existir en la base de datos y ya no estará disponible.")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.deleteInstitucion()}}},[e._v("Aceptar")])],1)],1)],1)],1)],1)},s=[],r=a("dc59"),o={data:()=>({isLoading:!1,nombre:"",direccion:"",telefono:"",encargados:[],encargado:"",instituciones:[],base:[],seleccionado:"",idseleccionado:"",formAble:1,dropdownAble:0,opcionSeleccionada:"",agregarAble:0,editarAble:0,eliminarAble:0,valid:!1,snackColor:"red",dialog:!1,nombreRules:[e=>!!e||"El nombre es requerido."],direccionRules:[e=>!!e||"La dirección es requerida."],telefonoRules:[e=>!!e||"El número es requerido.",e=>e.length>7||"Ingrese un número telefónico válido"],encargadoRules:[e=>!!e||"Al menos un encargado es requerido."],snackbar:!1,text:""}),mounted:function(){this.getInstitutions()},methods:{agregar:function(){this.dropdownAble=1,this.formAble=0,this.nombre="",this.direccion="",this.telefono="",this.encargado="",this.encargados=[],this.opcionSeleccionada="agregar",this.editarAble=1,this.eliminarAble=1},update(){""==this.seleccionado?(this.text="Debe seleccionar una Institución.",this.snackbar=!0):(this.formAble=0,this.agregarAble=1,this.eliminarAble=1,this.opcionSeleccionada="update")},eliminar:function(){this.snackColor="red",""==this.seleccionado?(this.text="Debe seleccionar una Institución.",this.snackbar=!0):(this.dialog=!0,this.editarAble=1,this.agregarAble=1)},guardar:function(){if(this.snackColor="red",""===this.nombre||""===this.direccion||""===this.telefono||""===this.encargado)this.text="No deben haber campos vacíos!",this.snackbar=!0;else if(this.telefono.length<8)this.text="Ingrese un número telefónico válido.",this.snackbar=!0;else if("agregar"===this.opcionSeleccionada){var e=!1;this.instituciones.forEach(t=>{t===this.nombre&&(e=!0)}),!0===e?(this.text="Esa Institución ya existe.",this.snackbar=!0):(this.addInstitucion(),this.dropdownAble=0,this.formAble=1)}else this.updateInstitucion(),this.dropdownAble=0,this.formAble=1},editEncargados:function(){this.encargados=this.encargado.split(","),console.log(this.encargado)},getInstitutions:function(){this.encargados=[],this.base=[],this.instituciones=[],this.isLoading=!0,r["a"].firestore().collection("institutions").get().then(e=>{e.forEach(e=>{this.base.push({id:e.id,data:e.data()}),this.instituciones.push(e.data().nombre)})}).catch(function(e){console.log("Error getting documents: ",e)})},showInstitucion:function(){this.base.forEach(e=>{this.seleccionado===e.data.nombre&&(this.nombre=e.data.nombre,this.direccion=e.data.direccion,this.telefono=e.data.telefono+"",this.encargados=e.data.encargados,this.encargado="",this.encargados.forEach(e=>{e==this.encargados[this.encargados.length-1]?this.encargado+=e:this.encargado+=e+","}),this.idseleccionado=e.id)})},updateInstitucion:function(){console.log(this.encargado),this.editEncargados(),r["b"].collection("institutions").doc(this.idseleccionado).update({nombre:this.nombre,direccion:this.direccion,telefono:this.telefono,encargados:this.encargados}).then(()=>{console.log("Document successfully updated!"),this.text="Institución actualizada correctamente.",this.snackColor="green",this.snackbar=!0,this.agregarAble=0,this.eliminarAble=0}).catch(e=>{console.error("Error updating document: ",e),this.text="Error actualizando Institución.",this.snackbar=!0,this.agregarAble=0,this.eliminarAble=0}),this.getInstitutions()},addInstitucion:function(){this.editEncargados(),r["b"].collection("institutions").add({nombre:this.nombre,direccion:this.direccion,telefono:this.telefono,encargados:this.encargados}).then(e=>{console.log("Document written with ID: ",e.id),this.text="Institución agregada correctamente.",this.snackColor="green",this.snackbar=!0,this.editarAble=0,this.eliminarAble=0}).catch(e=>{console.error("Error adding document: ",e),this.text="Error agregando Institución.",this.snackbar=!0,this.editarAble=0,this.eliminarAble=0}),this.nombre="",this.direccion="",this.telefono="",this.encargado="",this.encargados=[],this.getInstitutions()},deleteInstitucion:function(){this.dialog=!1,r["b"].collection("institutions").doc(this.idseleccionado).delete().then(e=>{console.log("Deleted: ",e),this.text="Institución eliminada correctamente.",this.snackColor="green",this.snackbar=!0,this.editarAble=0,this.agregarAble=0}).catch(e=>{console.error("Error deleting document: ",e),this.text="Error eliminando Institución.",this.snackbar=!0,this.editarAble=0,this.agregarAble=0}),this.nombre="",this.direccion="",this.telefono="",this.encargado="",this.encargados=[],this.getInstitutions()}}},n=o,l=(a("e0d3"),a("2877")),c=a("6544"),d=a.n(c),h=a("8336"),u=a("b0af"),b=a("99d9"),m=a("62ad"),g=a("a523"),v=a("169a"),f=a("4bd4"),p=a("132d"),k=a("de8e"),x=a("0fd9"),A=a("2db4"),w=a("8654"),C=a("71d9"),_=a("2a7f"),V=Object(l["a"])(n,i,s,!1,null,null,null);t["default"]=V.exports;d()(V,{VBtn:h["a"],VCard:u["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:m["a"],VContainer:g["a"],VDialog:v["a"],VForm:f["a"],VIcon:p["a"],VOverflowBtn:k["a"],VRow:x["a"],VSnackbar:A["a"],VTextField:w["a"],VToolbar:C["a"],VToolbarTitle:_["a"]})},"786e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticStyle:{height:"200px"},attrs:{dark:"",prominent:"",color:"blue-grey darken-4"}},[a("v-toolbar-title",[e._v("Administración de Usuarios")])],1),a("v-container",{attrs:{id:"dropdown-example"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-overflow-btn",{staticClass:"my-2",attrs:{label:"Usuarios",items:e.users,disabled:1==e.dropdownAble,target:"#dropdown-example"},on:{change:function(t){return e.showUser()}},model:{value:e.seleccionado,callback:function(t){e.seleccionado=t},expression:"seleccionado"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12"}},[a("v-btn",{staticClass:"ma-2 text-center",attrs:{tile:"",width:"30%",color:" success",disabled:1==e.agregarAble},on:{click:function(t){return e.agregar()}}},[a("v-icon",[e._v("mdi-plus")]),e._v("Agregar\n        ")],1),a("v-btn",{staticClass:"ma-2 text-center",attrs:{tile:"",width:"30%",disabled:1==e.editarAble,color:"warning"},on:{click:function(t){return e.update()}}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-pencil")]),e._v("Editar\n        ")],1),a("v-btn",{staticClass:"ma-2 text-center",attrs:{tile:"",width:"30%",disabled:1==e.eliminarAble,color:"error"},on:{click:function(t){return e.eliminar()}}},[a("v-icon",[e._v("mdi-delete")]),e._v("Eliminar\n        ")],1)],1)],1)],1),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Correo de Usario",disabled:1==e.formAble,required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.tipos,label:"Tipo de Usuario",disabled:1==e.formAble,required:""},model:{value:e.tipo,callback:function(t){e.tipo=t},expression:"tipo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:e.passRules,type:"password",label:"Contraseña",disabled:1==e.formAble,required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1)],1)],1),a("v-btn",{staticClass:"blue-grey darken-4 white--text",attrs:{width:"100%",disabled:1==e.formAble,primary:""},on:{click:function(t){return e.guardar()}}},[a("v-icon",[e._v("mdi-sd")]),e._v("Guardar\n  ")],1),a("div",{staticClass:"text-center ma-2"},[a("v-snackbar",{model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n      "+e._s(e.text)+"\n      "),a("v-btn",{attrs:{color:e.snackColor,text:""},on:{click:function(t){e.snackbar=!1}}},[e._v("Close")])],1)],1),a("div",[a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Eliminar definitivamente el Usuario?")]),a("v-card-text",[e._v("Al eliminar el Usuario, el mismo dejará de existir en la base de datos y ya no estará disponible.")]),a("v-card-actions",[a("div",{staticClass:"flex-grow-1"}),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){e.dialog=!1}}},[e._v("Cancelar")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.deleteUser()}}},[e._v("Aceptar")])],1)],1)],1)],1)],1)},s=[],r=a("dc59"),o={data:()=>({users:[],tipos:["Alumno","Profesor","Admin"],tipo:"",email:"",password:"",seleccionado:"",valid:!1,passRules:[e=>!!e||"Es necesaria la contraseña.",e=>e.length>7||"La contraseña debe tener al menos 8 caracteres."],emailRules:[e=>!!e||"El E-mail es requerido",e=>/.+@.+/.test(e)||"El E-mail debe ser válido."],formAble:1,dropdownAble:0,opcionSeleccionada:"agregar",agregarAble:0,editarAble:0,eliminarAble:0,dialog:!1,valid:!1,snackColor:"red",snackbar:!1,text:""}),mounted:function(){this.getUsers()},methods:{agregar:function(){this.dropdownAble=1,this.formAble=0,this.email="",this.password="",this.tipo="",this.opcionSeleccionada="agregar",this.editarAble=1,this.eliminarAble=1},update(){""==this.seleccionado?(this.text="Debe seleccionar un Usuario.",this.snackbar=!0):(this.formAble=0,this.agregarAble=1,this.eliminarAble=1,this.opcionSeleccionada="update")},eliminar:function(){this.snackColor="red",""==this.seleccionado?(this.text="Debe seleccionar un Usuario.",this.snackbar=!0):(this.dialog=!0,this.editarAble=1,this.agregarAble=1)},guardar:function(){if(this.snackColor="red",""===this.email||""===this.password||""===this.tipo)this.text="No deben haber campos vacíos!",this.snackbar=!0;else if(!1===this.validar_clave(this.password))this.text="La contraseña debe tener mínimo 8 caracteres, números, mayúsculas y minúsculas, y caracteres especiales",this.snackbar=!0;else if(0==/.+@.+/.test(this.email))this.text="El correo debe ser válido",this.snackbar=!0;else if("agregar"===this.opcionSeleccionada){var e=!1;this.users.forEach(t=>{t===this.email&&(e=!0)}),!0===e?(this.text="Ese usuario ya existe.",this.snackbar=!0):(this.addUser(),this.dropdownAble=0,this.formAble=1)}else this.updateUser(),this.dropdownAble=0,this.formAble=1},validar_clave:function(e){if(e.length>=8){for(var t=!1,a=!1,i=!1,s=!1,r=0;r<e.length;r++)e.charCodeAt(r)>=65&&e.charCodeAt(r)<=90?t=!0:e.charCodeAt(r)>=97&&e.charCodeAt(r)<=122?a=!0:e.charCodeAt(r)>=48&&e.charCodeAt(r)<=57?i=!0:s=!0;if(1==t&&1==a&&1==s&&1==i)return!0}return!1},getUsers:function(){this.users=[],this.base=[],r["a"].firestore().collection("users").get().then(e=>{e.forEach(e=>{this.base.push({id:e.id,data:e.data()}),this.users.push(e.data().email)})}).catch(function(e){console.log("Error getting documents: ",e)})},showUser:function(){this.tipo="",this.email="",this.password="",this.base.forEach(e=>{e.data.email===this.seleccionado&&(this.email=e.data.email,this.tipo=e.data.userType,this.password=e.data.password,this.id=e.id)})},addUser(){r["b"].collection("users").add({email:this.email,password:this.password,userType:this.tipo}).then(e=>{this.text="Usuario actualizado correctamente.",this.snackColor="green",this.snackbar=!0,this.agregarAble=0,this.eliminarAble=0,this.editarAble=0,this.tipo="",this.email="",this.password="",this.getUsers()}).catch(e=>{this.text="Error actualizando Usuario.",this.snackColor="red",this.snackbar=!0,this.agregarAble=0,this.eliminarAble=0})},updateUser(){r["b"].collection("users").doc(this.id).update({email:this.email,password:this.password,userType:this.tipo}).then(e=>{this.text="Usuario actualizado correctamente.",this.snackColor="green",this.snackbar=!0,this.agregarAble=0,this.eliminarAble=0,this.editarAble=0,this.tipo="",this.email="",this.password="",this.getUsers()}).catch(e=>{this.text="Error actualizando Usuario.",this.snackColor="red",this.snackbar=!0,this.agregarAble=0,this.eliminarAble=0})},deleteUser(){this.dialog=!1,r["b"].collection("users").doc(this.id).delete().then(e=>{this.text="Usuario eliminado correctamente.",this.snackColor="green",this.snackbar=!0,this.editarAble=0,this.agregarAble=0,this.tipo="",this.email="",this.password="",this.getUsers()}).catch(e=>{console.error("Error deleting document: ",e),this.text="Error eliminando Usuario.",this.snackbar=!0,this.editarAble=0,this.agregarAble=0})}}},n=o,l=a("2877"),c=a("6544"),d=a.n(c),h=a("8336"),u=a("b0af"),b=a("99d9"),m=a("62ad"),g=a("a523"),v=a("169a"),f=a("4bd4"),p=a("132d"),k=a("de8e"),x=a("0fd9"),A=a("b974"),w=a("2db4"),C=a("8654"),_=a("71d9"),V=a("2a7f"),E=Object(l["a"])(n,i,s,!1,null,null,null);t["default"]=E.exports;d()(E,{VBtn:h["a"],VCard:u["a"],VCardActions:b["a"],VCardText:b["b"],VCardTitle:b["c"],VCol:m["a"],VContainer:g["a"],VDialog:v["a"],VForm:f["a"],VIcon:p["a"],VOverflowBtn:k["a"],VRow:x["a"],VSelect:A["a"],VSnackbar:w["a"],VTextField:C["a"],VToolbar:_["a"],VToolbarTitle:V["a"]})},e0d3:function(e,t,a){"use strict";var i=a("5311"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-695dbc86.8dcf6108.js.map